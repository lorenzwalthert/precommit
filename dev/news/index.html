<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Changelog • precommit</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous"><link href="../docsearch.css" rel="stylesheet"><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Changelog"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-news">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">precommit</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.3.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/precommit.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/why-use-hooks.html">Why is this useful?</a>
    </li>
    <li>
      <a href="../articles/available-hooks.html">Available Hooks</a>
    </li>
    <li>
      <a href="../articles/ci.html">Continuous Integration</a>
    </li>
    <li>
      <a href="../articles/FAQ.html">FAQ</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/index.html">More articles...</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/lorenzwalthert/precommit/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off"></div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href="https://github.com/lorenzwalthert/precommit/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.2.9000" id="precommit-v0329000">precommit v0.3.2.9000<a class="anchor" aria-label="anchor" href="#precommit-v0329000"></a></h2>
<ul><li>
<code><a href="../reference/use_ci.html">use_ci()</a></code> is now documented to take <code>NA</code>, not <code>NULL</code> for argument <code>ci</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/431" class="external-link">#431</a>).</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.2" id="precommit-v032">precommit v0.3.2<small>2022-07-01</small><a class="anchor" aria-label="anchor" href="#precommit-v032"></a></h2>
<ul><li>
<code>parsable-R</code> hook now gives more context on where and how parsing fails (<a href="https://github.com/lorenzwalthert/precommit/issues/423" class="external-link">#423</a>).</li>
<li>fixed R CMD check issues in devel (<a href="https://github.com/lorenzwalthert/precommit/issues/425" class="external-link">#425</a>).</li>
<li>move from <em>experimental</em> to <em>stable</em> (<a href="https://github.com/lorenzwalthert/precommit/issues/426" class="external-link">#426</a>).</li>
</ul><p>Thanks to <a href="https://github.com/danielinteractive" class="external-link">@danielinteractive</a>, <a href="https://github.com/jonocarroll" class="external-link">@jonocarroll</a> for their contributions.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.1" id="precommit-v031">precommit v0.3.1<small>2022-06-15</small><a class="anchor" aria-label="anchor" href="#precommit-v031"></a></h2>
<p><strong>User visible changes</strong></p>
<ul><li>
<code>.pre-commit-config.yaml</code> templates now contain hook to validate the <a href="https://pre-commit.ci" class="external-link">pre-commit.ci</a> configuration (<a href="https://github.com/lorenzwalthert/precommit/issues/407" class="external-link">#407</a>).</li>
<li>{git2r} is no longer needed for user side (<a href="https://github.com/lorenzwalthert/precommit/issues/417" class="external-link">#417</a>).</li>
</ul><p><strong>Bug fixes</strong></p>
<ul><li>Fix bug that prevented pkg load outside directories with precommit files (<a href="https://github.com/mpadge" class="external-link">@mpadge</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/413" class="external-link">#413</a>).</li>
<li>Ensure sorting for <code>spell-check</code> hook is case-insensitive on all operating systems. This may re-order your whole <code>inst/WORDLIST</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/405" class="external-link">#405</a>).</li>
<li>hook <code>forbid-to-commit</code> in template <code>.pre-commit-config.yaml</code> has now the correct <code>exclude-files</code> regular expression to ignore <code>.csv</code>, <code>.RData</code>, <code>.Rds</code>, <code>.rds</code> and <code>.Rhistory</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/410" class="external-link">#410</a>).</li>
</ul><p><strong>Internals</strong></p>
<ul><li>
<code>options(install.packages.compile.from.source = "never")</code> is used in the CI to avoid failing builds due to missing build-time deps (<a href="https://github.com/lorenzwalthert/precommit/issues/412" class="external-link">#412</a>).</li>
<li>All (R)md files in that repo are now formatted in a pandoc-compliant way (<a href="https://github.com/lorenzwalthert/precommit/issues/415" class="external-link">#415</a>).</li>
</ul><p>Thanks to <a href="https://github.com/danielinteractive" class="external-link">@danielinteractive</a> and <a href="https://github.com/mpadge" class="external-link">@mpadge</a> for their contributions.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.3.0" id="precommit-v030">precommit v0.3.0<small>2022-05-20</small><a class="anchor" aria-label="anchor" href="#precommit-v030"></a></h2>
<p><strong>API changes</strong></p>
<ul><li>The <code>style-files</code> hook now takes <code>ignore-start</code> and <code>ignore-stop</code> arguments, passed to <code>options("styler.ignore_start")</code> and <code>options("styler.ignore_stop")</code>. By default, {styler} defaults are used.</li>
<li>
<code><a href="../reference/use_precommit.html">use_precommit()</a></code> now exposes the argument <code>autoupdate</code>, defaulting to <code>TRUE</code> (which was the previous behavior). This tells {precommit} whether or not to run <code><a href="../reference/autoupdate.html">autoupdate()</a></code> as part of the former function invocation (<a href="https://github.com/lorenzwalthert/precommit/issues/386" class="external-link">#386</a>).</li>
</ul><p><strong>New features</strong></p>
<ul><li>New hook <code>no-debug-statement</code> checks for leftover <code><a href="https://rdrr.io/r/base/debug.html" class="external-link">debug()</a></code> and <code><a href="https://rdrr.io/r/base/debug.html" class="external-link">debugonce()</a></code> statements in the committed code (<a href="https://github.com/lorenzwalthert/precommit/issues/385" class="external-link">#385</a>, <a href="https://github.com/lukasfeick-sw" class="external-link">@lukasfeick-sw</a>).</li>
<li>The template <code>.pre-commit-config.yaml</code> does now include the hook <code>file-contents-sorter</code> to sort <code>.Rbuildignore</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/366" class="external-link">#366</a>).</li>
<li>The template <code>.pre-commit-config.yaml</code> default to monthly hook updates (instead of weekly) to avoid notification triggers and git version convolution (<a href="https://github.com/lorenzwalthert/precommit/issues/370" class="external-link">#370</a>).</li>
<li>The codemeta hook was ported to <code>language: r</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/350" class="external-link">#350</a>).</li>
</ul><p><strong>Documentation</strong></p>
<ul><li>Refactor README into new README and a <em>Get started</em> vignette (<a href="https://github.com/lorenzwalthert/precommit/issues/388" class="external-link">#388</a>).</li>
<li>Document advantages of pre-commit in vignette (<a href="https://github.com/lorenzwalthert/precommit/issues/379" class="external-link">#379</a>).</li>
</ul><p><strong>Bug fixes</strong></p>
<ul><li>Don’t include <code>R</code> as a dependency with <code>snippet_generate("additional-deps-roxygenize")</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/358" class="external-link">#358</a>).</li>
<li>
<code>roxygenize</code> hook now fails if it generates an <code>.Rd</code> file that is not tracked with version control (<a href="https://github.com/lorenzwalthert/precommit/issues/363" class="external-link">#363</a>).</li>
<li>Improved compatibility with {renv} (<a href="https://github.com/lorenzwalthert/precommit/issues/359" class="external-link">#359</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/375" class="external-link">#375</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/400" class="external-link">#400</a>).</li>
<li>
<code>deps-in-desc</code> and <code>parsable-R</code> can now handle code chunk headers with where <code>purl</code> or <code>eval</code> are not literals like <code>TRUE</code>, but variables defined elsewhere in code (<a href="https://github.com/lorenzwalthert/precommit/issues/361" class="external-link">#361</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/382" class="external-link">#382</a>).</li>
<li>
<code>deps-in-desc</code> now prints the original file (not a tempfile) also for <code>.Rmd</code> and <code>.Rnw</code> files.</li>
</ul><p>Thanks to all people who contributed to this release: <a href="https://github.com/assignUser" class="external-link">@assignUser</a>, <a href="https://github.com/danhalligan" class="external-link">@danhalligan</a>, <a href="https://github.com/gravesti" class="external-link">@gravesti</a>, <a href="https://github.com/hadley" class="external-link">@hadley</a>, <a href="https://github.com/KyleDCox" class="external-link">@KyleDCox</a>, <a href="https://github.com/lorenzwalthert" class="external-link">@lorenzwalthert</a>, <a href="https://github.com/lukasfeick-sw" class="external-link">@lukasfeick-sw</a>, <a href="https://github.com/MarkMc1089" class="external-link">@MarkMc1089</a>, <a href="https://github.com/pat-s" class="external-link">@pat-s</a>, <a href="https://github.com/RoyalTS" class="external-link">@RoyalTS</a>, and <a href="https://github.com/smingerson" class="external-link">@smingerson</a>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.2" id="precommit-v022">precommit v0.2.2<small>2021-12-14</small><a class="anchor" aria-label="anchor" href="#precommit-v022"></a></h2>
<p>This is a maintenance release on the request of CRAN (<a href="https://github.com/lorenzwalthert/precommit/issues/337" class="external-link">#337</a>) and to improve experience with the <code>language: r</code> switch conducted in <code>v0.2.0</code>. In particular, note that projects using {renv} and RStudio are not very compatible with hook versions &gt; 0.1.3.9014 and <code><a href="../reference/autoupdate.html">autoupdate()</a></code> results in downgrading the hook versions (<a href="https://github.com/lorenzwalthert/precommit/issues/346" class="external-link">#346</a>).</p>
<p><strong>API Changes</strong></p>
<ul><li>The argument <code>--no-warn-cache</code> in the <code>style-files</code> and the <code>roxygenize</code> hook is deprecated and will be removed in a future release. Please remove it from your <code>.pre-commit-config.yaml</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/340" class="external-link">#340</a>. <a href="https://github.com/lorenzwalthert/precommit/issues/341" class="external-link">#341</a>).</li></ul><p><strong>Other changes</strong></p>
<ul><li>
<code>style-files</code> hook fails more informatively if required package is not listed in <code>additional_dependencies:</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/333" class="external-link">#333</a>).</li>
<li>configure all git operations to use LF (<a href="https://github.com/lorenzwalthert/precommit/issues/337" class="external-link">#337</a>).</li>
<li>
<code>deps-in-desc</code> always excludes <code>README.md</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/336" class="external-link">#336</a>).</li>
<li>Document timeout and other problems with pre-commit.ci (<a href="https://github.com/lorenzwalthert/precommit/issues/335" class="external-link">#335</a>).</li>
<li>simplify <code>roxygenize</code> problem handling (<a href="https://github.com/lorenzwalthert/precommit/issues/338" class="external-link">#338</a>).</li>
<li>More executables on macOS are detected (<a href="https://github.com/lorenzwalthert/precommit/issues/344" class="external-link">#344</a>).</li>
<li>Only hard dependencies are generated with <code>snippet_generate("additional-deps-roxygenize")</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/344" class="external-link">#344</a>)</li>
<li>Fixing more CRAN issues (<a href="https://github.com/lorenzwalthert/precommit/issues/348" class="external-link">#348</a>).</li>
<li>Use RSMP for all packages (<a href="https://github.com/lorenzwalthert/precommit/issues/348" class="external-link">#348</a>).</li>
</ul><p>Thanks to all people who contributed to this release:</p>
<p><a href="https://github.com/lorenzwalthert" class="external-link">@lorenzwalthert</a>, <a href="https://github.com/pat-s" class="external-link">@pat-s</a>, and <a href="https://github.com/smingerson" class="external-link">@smingerson</a>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.2.0" id="precommit-v020">precommit v0.2.0<small>2021-12-01</small><a class="anchor" aria-label="anchor" href="#precommit-v020"></a></h2>
<p>This version marks the switch to <a href="https://pre-commit.com/#r" class="external-link"><code>language: r</code></a> of all existing hooks. This means two things:</p>
<ul><li>creation of isolated pre-commit environments: No more manual dependency management for hooks nor conflicts with your global R library and more consistent output of hooks from different collaborators in a project. Thanks to {renv}’s excellent <a href="https://rstudio.github.io/renv/articles/renv.html#cache-1" class="external-link">caching</a>, this hardly consumes any space and is fast. This requires the Python package <code>pre-commit &gt;= 2.11.1</code> (ideally even <code>&gt;= 2.13.0</code>). See *Installation/Update** below (<a href="https://github.com/lorenzwalthert/precommit/issues/233" class="external-link">#233</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/250" class="external-link">#250</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/260" class="external-link">#260</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/264" class="external-link">#264</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/273" class="external-link">#273</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/315" class="external-link">#315</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/313" class="external-link">#313</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/308" class="external-link">#308</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/301" class="external-link">#301</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/300" class="external-link">#300</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/295" class="external-link">#295</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/285" class="external-link">#285</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/328" class="external-link">#328</a>).</li>
<li>support for continuous integration via <a href="https://pre-commit.ci" class="external-link">pre-commit.ci</a> and <a href="https://github.com/pre-commit/action" class="external-link">GitHub Actions</a>), that is, running the pre-commit hooks as part of a CI pipeline. This means that hook passing can be enforced for pull requests, even if the creator did not run the hooks locally. Further, the diff from running the hooks is committed and pushed back to the remote repository. This may fix the failing hook problems in some cases (e.g. <code>style-files</code>). See <code><a href="../articles/ci.html">vignette("ci")</a></code> for a comparison of the two services (<a href="https://github.com/lorenzwalthert/precommit/issues/318" class="external-link">#318</a>).</li>
</ul><p><strong>API changes</strong></p>
<ul><li>
<code><a href="../reference/use_precommit.html">use_precommit()</a></code> gains a new argument <code>ci</code> defaulting to <code>"native"</code> (for <a href="https://pre-commit.ci" class="external-link">pre-commit</a>) to set up continuous integration. Other allowed values are <code>"gha"</code> (for<br><a href="https://github.com/pre-commit/action" class="external-link">GitHub Actions</a>) or <code>NULL</code> (for no CI).</li>
<li>The new exported function <code>use_ci(ci = "native")</code> can be used to set up continuous integration for existing repos. The default behavior for <code>ci</code> for both functions is governed by the R option <code>precommit.ci</code>.</li>
<li>
<code><a href="../reference/version_precommit.html">version_precommit()</a></code> and <code><a href="../reference/update_precommit.html">update_precommit()</a></code> are new functions to check the version of the installed pre-commit executable and to update it (<a href="https://github.com/lorenzwalthert/precommit/issues/197" class="external-link">#197</a>).</li>
<li>
<code>style-files</code> hook gains an argument <code>--cache-root</code> that is passed to <code>options(styler.cache_root = ...)</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/305" class="external-link">#305</a>).</li>
<li>
<code>style-files</code> hook now supports the full <a href="https://styler.r-lib.org/dev/reference/style_file.html" class="external-link"><code>style_file()</code></a> API, e.g. you can supply <code>--scope=spaces</code> and similar via <code>args:</code> in your <code>.pre-commit-config.yaml</code>. See the <a href="https://lorenzwalthert.github.io/precommit/articles/available-hooks.html#style-files-1">docs</a> for details.</li>
<li>
<code>style-files</code> and <code>roxygenize</code> hooks now warn if there is no permanent <a href="https://github.com/HenrikBengtsson/R.cache" class="external-link">R.cache</a> cache set up. You can silence the warning with the hook argument <code>--no-warn-cache</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/225" class="external-link">#225</a>).</li>
</ul><p><strong>Installation/Update</strong></p>
<p>Please follow the <a href="https://lorenzwalthert.github.io/precommit/dev/#update">update instructions</a> or <a href="https://lorenzwalthert.github.io/precommit/dev/#installation">installation instructions</a> depending on whether or not you previously used pre-commit.</p>
<p><strong>Major changes</strong></p>
<ul><li>Because hooks run in a virtual environment and the <code>roxygenize</code> hook runs <code><a href="https://pkgload.r-lib.org/reference/load_all.html" class="external-link">pkgload::load_all()</a></code>, you need to list all dependencies of your package in <code>additional_dependencies</code> field in <code>.pre-commit-config.yaml</code>. You will be prompted to add them if they are missing, <code>precommit::snippet_generate("additional-deps-roxygenize")</code> generates the code you can copy/paste (<a href="https://github.com/lorenzwalthert/precommit/issues/247" class="external-link">#247</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/248" class="external-link">#248</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/249" class="external-link">#249</a>).</li>
<li>the <code>parsable-R</code> hook can now also parse <code>.Rmd</code> files (<a href="https://github.com/lorenzwalthert/precommit/issues/325" class="external-link">#325</a>).</li>
<li>In order to avoid multiple installations of the pre-commit framework, a warning is issued if multiple are found so the user can remove them (<a href="https://github.com/lorenzwalthert/precommit/issues/266" class="external-link">#266</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/273" class="external-link">#273</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/277" class="external-link">#277</a>, <a href="https://github.com/lorenzwalthert/precommit/issues/278" class="external-link">#278</a>).</li>
<li>
<code>use_precommit(..., install_hooks = TRUE)</code> is no longer blocking by default. New option <code>precommit.block_install_hooks</code> (defaults to <code>FALSE</code>) governs the behavior (<a href="https://github.com/lorenzwalthert/precommit/issues/312" class="external-link">#312</a>).</li>
<li>Always sort <code>inst/WORDLIST</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/303" class="external-link">#303</a>).</li>
<li>
<code>.lintr</code> and <code>.gitlab-ci.yml</code> are not ignored in the spell check hook (<a href="https://github.com/lorenzwalthert/precommit/issues/317" class="external-link">#317</a>).</li>
<li>Warnings are no longer promoted to errors in the styler hook, which is particularly relevant for the apparently random error <code>Unknown or uninitialised column: text</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/268" class="external-link">#268</a>).</li>
<li>
<code>deps-in-desc</code> now checks <code>.Rprofile</code>, <code>.Rmd</code> and <code>.Rnw</code> files in addition to <code>.R</code> files (<a href="https://github.com/lorenzwalthert/precommit/issues/216" class="external-link">#216</a>).<br></li>
<li>the lintr and styler hook now also check <code>.Rmd</code>, <code>.Rnw</code> and <code>.Rprofile</code> files (<a href="https://github.com/lorenzwalthert/precommit/issues/287" class="external-link">#287</a>).</li>
<li>
<a href="https://rstudio.github.io/renv/" class="external-link">renv</a> infra files are not checked anymore by default in the template config files (<a href="https://github.com/lorenzwalthert/precommit/issues/237" class="external-link">#237</a>).</li>
<li>
<code>.png</code>, <code>.jpeg</code>, <code>.pdf</code> and files in <code>.github/workflows</code> are no longer spell-checked in the template config file (<a href="https://github.com/lorenzwalthert/precommit/issues/276" class="external-link">#276</a>).</li>
</ul><p><strong>Minor changes</strong></p>
<ul><li>rename default branch to <em>main</em> (<a href="https://github.com/lorenzwalthert/precommit/issues/307" class="external-link">#307</a>).</li>
<li>Use dev version of {lintr} to reduce total dependencies from 71 to 59 that brings down install time.</li>
<li>The location of the pre-commit executable is now also recognized on Apple Silicon when installed with Homebrew (<a href="https://github.com/lorenzwalthert/precommit/issues/240" class="external-link">#240</a>).</li>
<li>The location of the pre-commit executable is now also recognized on macOS when installed with pip3 and <code>fs &gt;= 1.5.1</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/330" class="external-link">#330</a>).</li>
<li>pinning python version to 3.9 for conda until problems related to 3.10 are fixed (<a href="https://github.com/lorenzwalthert/precommit/issues/310" class="external-link">#310</a>).</li>
<li>The cache for the roxygen2 hook is now also invalidated for changes in formals if there are no changes in roxygen comments (<a href="https://github.com/lorenzwalthert/precommit/issues/214" class="external-link">#214</a>).</li>
<li>All sub-patterns in the <code>exclude:</code> pattern of the spell check hook are now ordered alphabetically (<a href="https://github.com/lorenzwalthert/precommit/issues/276" class="external-link">#276</a>).</li>
<li>The <code>deps-in-desc</code> hook now points to the hook argument <code>--allow_private_imports</code> when the hook fails due to private imports (<a href="https://github.com/lorenzwalthert/precommit/issues/254" class="external-link">#254</a>).</li>
<li>roxygenize hook is now fully tested (<a href="https://github.com/lorenzwalthert/precommit/issues/267" class="external-link">#267</a>).</li>
<li>Hook scripts were relocated and R hooks now have a file extension (<a href="https://github.com/lorenzwalthert/precommit/issues/280" class="external-link">#280</a>).</li>
<li>Hook dependency updates are proposed by an automatic monthly pull request to <code>lorenzwalthert/precommit</code>. This does not affect users directly (<a href="https://github.com/lorenzwalthert/precommit/issues/430" class="external-link">#430</a>).</li>
<li>Updated GitHub Action workflows (<a href="https://github.com/lorenzwalthert/precommit/issues/288" class="external-link">#288</a>).</li>
<li>Use LF line endings in git config to ensure passing tests on Windows for R devel (<a href="https://github.com/lorenzwalthert/precommit/issues/321" class="external-link">#321</a>).</li>
<li>fixing typos (<a href="https://github.com/lorenzwalthert/precommit/issues/289" class="external-link">#289</a>).</li>
<li>fix R CMD Check (<a href="https://github.com/lorenzwalthert/precommit/issues/284" class="external-link">#284</a>).</li>
</ul><p>A big hand to all the contributors of this release:</p>
<p><a href="https://github.com/adamblake" class="external-link">@adamblake</a>, <a href="https://github.com/arbues6" class="external-link">@arbues6</a>, <a href="https://github.com/b4D8" class="external-link">@b4D8</a>, <a href="https://github.com/bart1" class="external-link">@bart1</a>, <a href="https://github.com/dhersz" class="external-link">@dhersz</a>, <a href="https://github.com/joelnitta" class="external-link">@joelnitta</a>, <a href="https://github.com/jucor" class="external-link">@jucor</a>, <a href="https://github.com/lorenzwalthert" class="external-link">@lorenzwalthert</a>, <a href="https://github.com/lukasfeick-sw" class="external-link">@lukasfeick-sw</a>, <a href="https://github.com/MarkMc1089" class="external-link">@MarkMc1089</a>, <a href="https://github.com/njtierney" class="external-link">@njtierney</a>, <a href="https://github.com/pat-s" class="external-link">@pat-s</a>, <a href="https://github.com/pwildenhain" class="external-link">@pwildenhain</a>, and <a href="https://github.com/rossdrucker" class="external-link">@rossdrucker</a></p>
<p>For previous versions of <code>NEWS.md</code> with news bullet per patch release, see the <a href="https://github.com/lorenzwalthert/precommit/blob/7a8740714ab868d20e981b8b80898d7be050e34e/NEWS.md" class="external-link">latest <code>NEWS.md</code> before gathering</a>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.3" id="precommit-v013">precommit v0.1.3<small>2020-10-10</small><a class="anchor" aria-label="anchor" href="#precommit-v013"></a></h2>
<p>This is mainly a CRAN maintenance release because of <a href="https://github.com/lorenzwalthert/precommit/issues/201" class="external-link">#201</a> and includes some bug fixes and no API changes.</p>
<p>A big hand to all the contributors of this release: <a href="https://github.com/fschoner" class="external-link">@fschoner</a>, <a href="https://github.com/krzyslom" class="external-link">@krzyslom</a>, <a href="https://github.com/lorenzwalthert" class="external-link">@lorenzwalthert</a>, <a href="https://github.com/maurolepore" class="external-link">@maurolepore</a>, <a href="https://github.com/pat-s" class="external-link">@pat-s</a>, and <a href="https://github.com/zkamvar" class="external-link">@zkamvar</a>.</p>
<p><strong>Minor Changes</strong></p>
<ul><li>install_hooks in <code><a href="../reference/use_precommit.html">use_precommit()</a></code> should now work as expected (<a href="https://github.com/lorenzwalthert/precommit/issues/185" class="external-link">#185</a>).</li>
<li>Switching from Travis to GitHub Actions (<a href="https://github.com/lorenzwalthert/precommit/issues/191" class="external-link">#191</a>).</li>
<li>
<code><a href="../reference/use_precommit.html">use_precommit()</a></code> now writes to the right <code>.Rbuildignore</code> when <code>root</code> is not the current working directory (<a href="https://github.com/lorenzwalthert/precommit/issues/188" class="external-link">#188</a>, <a href="https://github.com/krzyslom" class="external-link">@krzyslom</a>).</li>
<li>Documentation improvements (<a href="https://github.com/lorenzwalthert/precommit/issues/179" class="external-link">#179</a>, <a href="https://github.com/maurolepore" class="external-link">@maurolepore</a>)</li>
<li>
<code><a href="../reference/uninstall_precommit.html">precommit::uninstall_precommit()</a></code> now correctly removes <code>^\\.pre-commit-config.yaml$</code>from <code>.Rbuildignore</code> and does not show a prompt (<a href="https://github.com/lorenzwalthert/precommit/issues/199" class="external-link">#199</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.1.2" id="precommit-v012">precommit v0.1.2<small>2020-06-13</small><a class="anchor" aria-label="anchor" href="#precommit-v012"></a></h2>
<p>Initial CRAN release. See <a href="https://lorenzwalthert.github.io/precommit/" class="uri">https://lorenzwalthert.github.io/precommit/</a>.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.0.9049" id="precommit-v0009049">precommit v0.0.0.9049<a class="anchor" aria-label="anchor" href="#precommit-v0009049"></a></h2>
<ul><li>Roxygen hook cache only includes files that are part of the index and will hence be able to use the cache in cases it was previously invalidated without need (<a href="https://github.com/lorenzwalthert/precommit/issues/171" class="external-link">#171</a>).</li>
<li>styler hook should fail if styling any file fails (<a href="https://github.com/lorenzwalthert/precommit/issues/174" class="external-link">#174</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.0.9048" id="precommit-v0009048">precommit v0.0.0.9048<a class="anchor" aria-label="anchor" href="#precommit-v0009048"></a></h2>
<ul><li>Don’t allow legacy hooks by default, delete README hook from usethis informatively (<a href="https://github.com/lorenzwalthert/precommit/issues/167" class="external-link">#167</a>).</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.0.9046" id="precommit-v0009046">precommit v0.0.0.9046<a class="anchor" aria-label="anchor" href="#precommit-v0009046"></a></h2>
<p><strong>Major Changes</strong></p>
<ul><li>
<code><a href="../reference/use_precommit.html">use_precommit()</a></code> gains new <code>install_hooks = TRUE</code> parameter. Now all hook environments defined in yaml config are by default installed in advance. (<a href="https://github.com/lorenzwalthert/precommit/issues/163" class="external-link">#163</a>)</li></ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.0.9044" id="precommit-v0009044">precommit v0.0.0.9044<a class="anchor" aria-label="anchor" href="#precommit-v0009044"></a></h2>
<p><strong>Breaking Changes</strong></p>
<ul><li>
<code><a href="../reference/uninstall_precommit.html">uninstall_precommit()</a></code>’s <code>scope</code> argument value <code>"global"</code> was renamed to <code>"user"</code>.</li></ul><p><strong>Major Changes</strong></p>
<ul><li>By default, the spell check hook now exposes a regex pattern in the default <code>.pre-commit-config-config.yaml</code> for the spell check hook for easy manipulation. Also, additional patterns were excluded such as <code>.sh</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/157" class="external-link">#157</a>).</li></ul><p><strong>Minor Changes</strong></p>
<ul><li>
<code>DESCRIPTION</code> now links the pkgdown website in addition to the GitHub repo (<a href="https://github.com/lorenzwalthert/precommit/issues/155" class="external-link">#155</a>).</li>
<li>
<code>.Renviron</code>, <code>.Rrofile</code>, <code>.RData</code>, <code>.feather</code> and <code>.Rds</code> is now also excluded from the spell checking hook.</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.0.9042" id="precommit-v0009042">precommit v0.0.0.9042<a class="anchor" aria-label="anchor" href="#precommit-v0009042"></a></h2>
<p><strong>Breaking Changes</strong></p>
<p>A major API review was conducted to make the package ready for a CRAN submission in <a href="https://github.com/lorenzwalthert/precommit/issues/152" class="external-link">#152</a>:</p>
<ul><li>all functions have the argument <code>path_root</code> renamed to <code>root</code>.</li>
<li>argument <code>root</code> now always defaults to <code><a href="https://here.r-lib.org//reference/here.html" class="external-link">here::here()</a></code> for consistency.</li>
<li>argument <code>config_source</code> was renamed to <code>config_source</code> in <code><a href="../reference/use_precommit_config.html">use_precommit_config()</a></code> and <code><a href="../reference/use_precommit.html">use_precommit()</a></code>.</li>
<li>
<code>use_precommit_config</code>’s argument <code>force</code> gains a default value for consistency with <code>use_config()</code>.</li>
<li>
<code>use_precommit_config</code>’s argument <code>verbose</code> now is in the same position as in <code>use_config()</code>.</li>
</ul><p>Additional breaking changes are:</p>
<ul><li>use env <code>r-precommit</code> instead of <code>r-reticulate</code> to avoid conflicts with other packages commonly installed in <code>r-reticulate</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/147" class="external-link">#147</a>).</li>
<li>the hook <code>spell-check</code> does no longer take the hook argument <code>ignore-files</code> since this was inconsistent with the pre-commit framework. To exclude additional files, specify the <code>exclude:</code> key in your <code>.pre-commit-config.yaml</code> file. If you like to keep excluding the default files, make sure you include the <a href="https://lorenzwalthert.github.io/precommit/articles/available-hooks.html#spell-check">default regex</a> (<a href="https://github.com/lorenzwalthert/precommit/issues/153" class="external-link">#153</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.0.9040" id="precommit-v0009040">precommit v0.0.0.9040<a class="anchor" aria-label="anchor" href="#precommit-v0009040"></a></h2>
<ul><li>roxygenize hook now only ran when <code>git diff --cached</code> contains roxygen comments (<a href="https://github.com/lorenzwalthert/precommit/issues/151" class="external-link">#151</a>).</li>
<li>conda is a suggested dependency now, so those who choose a different installation method have a more lightweight dependency graph (<a href="https://github.com/lorenzwalthert/precommit/issues/136" class="external-link">#136</a>).</li>
<li>Use more thoughtful order for hooks, between pkg and project (<a href="https://github.com/lorenzwalthert/precommit/issues/142" class="external-link">#142</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.0.9031" id="precommit-v0009031-up-to-v0009038">precommit v0.0.0.9031 up to v0.0.0.9038<a class="anchor" aria-label="anchor" href="#precommit-v0009031-up-to-v0009038"></a></h2>
<p>Test release process.</p>
</div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.0.9030" id="precommit-v0009030">precommit v0.0.0.9030<a class="anchor" aria-label="anchor" href="#precommit-v0009030"></a></h2>
<ul><li>auto-detect pre-commit executable when installed via pip for Linux (<a href="https://github.com/lorenzwalthert/precommit/issues/120" class="external-link">#120</a>), macOS (<a href="https://github.com/lorenzwalthert/precommit/issues/131" class="external-link">#131</a>).</li>
<li>auto-detect pre-commit executable when installed via brew for macOS (<a href="https://github.com/lorenzwalthert/precommit/issues/132" class="external-link">#132</a>).</li>
<li>
<code><a href="../reference/use_precommit.html">use_precommit()</a></code> gains new argument <code>config_source</code> to copy an existing config file into the repo at initialization. The argument defaults to <code>options('precommit.config_source')</code> to make it easy for users to use their preferred hooks in every repo they initialize (<a href="https://github.com/lorenzwalthert/precommit/issues/111" class="external-link">#111</a>).</li>
<li>Create <code>r-precommit</code> env if not existent before installing into it (<a href="https://github.com/lorenzwalthert/precommit/issues/114" class="external-link">#114</a>).</li>
<li>Unify vignettes on available hooks and arguments (<a href="https://github.com/lorenzwalthert/precommit/issues/109" class="external-link">#109</a>).</li>
<li>Fail fast when repo is not a git repo (<a href="https://github.com/lorenzwalthert/precommit/issues/111" class="external-link">#111</a>).</li>
<li>default config file has spell-check activated (<a href="https://github.com/lorenzwalthert/precommit/issues/118" class="external-link">#118</a>).</li>
<li>also test on macOS (<a href="https://github.com/lorenzwalthert/precommit/issues/120" class="external-link">#120</a>).</li>
<li>template <code>.pre-commit-config.yaml</code> includes hook to check files have a EOF blank line (<a href="https://github.com/lorenzwalthert/precommit/issues/126" class="external-link">#126</a>).</li>
<li>spell-check hook now removes blank lines hand has no blank line at EOF (<a href="https://github.com/lorenzwalthert/precommit/issues/127" class="external-link">#127</a>).</li>
<li>depreciate <code><a href="../reference/path_precommit_exec.html">path_pre_commit_exec()</a></code> in favor of <code><a href="../reference/path_precommit_exec.html">path_precommit_exec()</a></code> and adapt internals to replace <code>pre_commit</code> with <code>precommit</code> (<a href="https://github.com/lorenzwalthert/precommit/issues/130" class="external-link">#130</a>).</li>
<li>more coherent error catching for system calls (<a href="https://github.com/lorenzwalthert/precommit/issues/135" class="external-link">#135</a>).</li>
<li>internal refactoring (<a href="https://github.com/lorenzwalthert/precommit/issues/136" class="external-link">#136</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="page-header" data-toc-text="0.0.0.9017" id="precommit-0009017">precommit 0.0.0.9017<a class="anchor" aria-label="anchor" href="#precommit-0009017"></a></h2>
<ul><li><p><strong>BREAKING:</strong> If you used precommit &lt; 0.0.0.9017 (and if you choose a different installation strategy than <code>precommit::install_precommit()), you can link your existing    executable by setting the R option</code>precommit.executable` to the path where you stored the pre-commit executable.</p></li>
<li><p>Adding tools to work with hooks: <code><a href="../reference/install_precommit.html">install_precommit()</a></code>, <code><a href="../reference/use_precommit.html">use_precommit()</a></code>, <code><a href="../reference/uninstall_precommit.html">uninstall_precommit()</a></code>, <code><a href="../reference/open_config.html">open_config()</a></code> and <code><a href="../reference/open_config.html">open_wordlist()</a></code> using conda environments on all platforms.</p></li>
<li><p>Make repo a fully R CMD CHECK compliant R package (includes moving hooks to <code>inst/bin</code> from <code>bin</code>.)</p></li>
<li><p>renamed repo from pre-commit-hooks to precommit.</p></li>
<li><p>added pkgdown website, restructured README.</p></li>
</ul></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://lorenzwalthert.com" class="external-link">Lorenz Walthert</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'ae5363c86f48f4117b4f2b9beaefa28f',
    indexName: 'lorenzwalthert_precommit',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script></body></html>

